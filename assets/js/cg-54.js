(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{346:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"é¢ç»æ‰‹å†Œ-Â·-ç¬¬25ç¯‡ã€Šjvmå†…å­˜æ¨¡åž‹æ€»ç»“-æœ‰å„ç‰ˆæœ¬jdkå¯¹æ¯”ã€æœ‰å…ƒç©ºé—´oomç›‘æŽ§æ¡ˆä¾‹ã€æœ‰javaç‰ˆè™šæ‹Ÿæœº-ç»¼åˆå­¦ä¹ æ›´å®¹æ˜“-ã€‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¢ç»æ‰‹å†Œ-Â·-ç¬¬25ç¯‡ã€Šjvmå†…å­˜æ¨¡åž‹æ€»ç»“-æœ‰å„ç‰ˆæœ¬jdkå¯¹æ¯”ã€æœ‰å…ƒç©ºé—´oomç›‘æŽ§æ¡ˆä¾‹ã€æœ‰javaç‰ˆè™šæ‹Ÿæœº-ç»¼åˆå­¦ä¹ æ›´å®¹æ˜“-ã€‹"}},[s._v("#")]),s._v(" é¢ç»æ‰‹å†Œ Â· ç¬¬25ç¯‡ã€ŠJVMå†…å­˜æ¨¡åž‹æ€»ç»“ï¼Œæœ‰å„ç‰ˆæœ¬JDKå¯¹æ¯”ã€æœ‰å…ƒç©ºé—´OOMç›‘æŽ§æ¡ˆä¾‹ã€æœ‰Javaç‰ˆè™šæ‹Ÿæœºï¼Œç»¼åˆå­¦ä¹ æ›´å®¹æ˜“ï¼ã€‹")]),s._v(" "),a("p",[s._v("ä½œè€…ï¼šå°å‚…å“¥\n"),a("br"),s._v("åšå®¢ï¼š"),a("a",{attrs:{href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://bugstack.cn"),a("OutboundLink")],1)]),s._v(" "),a("blockquote",[a("p",[s._v("æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶èŽ·ï¼ðŸ˜„")])]),s._v(" "),a("h2",{attrs:{id:"ä¸€ã€å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å‰è¨€"}},[s._v("#")]),s._v(" ä¸€ã€å‰è¨€")]),s._v(" "),a("p",[a("code",[s._v("çœ‹äº†ä¸€ç¯‡æ–‡ç« 30å²æœ‰å¤šéš¾ï¼")])]),s._v(" "),a("p",[s._v("æ¯ç¯‡æ–‡ç« çš„å¼€ç¯‡æ€»å–œæ¬¢å†™ä¸€äº›ï¼Œä»Žä¸ªäººè§†è§’çœ‹è¿™ä¸ªä¸–ç•Œçš„æ„Ÿæ‚Ÿã€‚")]),s._v(" "),a("p",[s._v("æœ€è¿‘çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œ"),a("code",[s._v("30å²æœ‰å¤šéš¾")]),s._v("ã€‚æ–‡ä¸­çš„ä¸€äº›ä¸»äººå…¬å¥½åƒåœ¨å­¦ä¸šã€å·¥ä½œã€ç”Ÿæ´»ã€çˆ±æƒ…ç­‰æ–¹é¢éƒ½è¿‡çš„éƒ½ä¸å¦‚æ„ã€‚è¦ä¸æ˜¯é”™è¿‡è¿™ï¼Œè¦ä¸æ˜¯èµ°é”™é‚£ã€‚æ€»ç»“æ¥çœ‹ï¼Œå°±åƒæ˜¯å¾ˆå€’éœ‰çš„ä¸€ç¾¤å€’éœ‰è›‹å„¿åœ¨è·Ÿç”Ÿæ´»å¯¹å¹²ï¼")]),s._v(" "),a("p",[s._v("ä½†å…¶å®žæ¯ä¸ªäººå¯èƒ½éƒ½é‡åˆ°è¿‡ç”Ÿæ´»ä¸­æœ€éš¾çš„æ—¶å€™ï¼Œæˆ–æ—©æˆ–æ™šã€‚å°±åƒæˆ‘åˆšæ¯•ä¸šä¸ä¹…æ—¶ä¸€è¿žä¸²é‡åˆ°ï¼›"),a("code",[s._v("å†¬å¤©é‡Œä¸¢è¿‡ç¬¬ä¸€éƒ¨æ‰‹æœº")]),s._v("ã€"),a("code",[s._v("ä¿®ä¸€ä¸ªè¿›äº†æ°´çš„ç”µè„‘")]),s._v("ã€"),a("code",[s._v("ç§Ÿçš„æˆ¿å­ç¬¬ä¸€æ¬¡è¢«éª—")]),s._v("ï¼Œä¸€è¿žä¸²ä¸‹æ¥å¤´ä¸€æ¬¡è¦èµ¶åœ¨å·¥èµ„æ²¡å‘çš„æ—¶å€™ï¼Œé€‰æ‹©å°‘åƒæ—©é¥­è¿˜æ˜¯åˆé¥­ï¼Œçœ‹çœ‹èƒ½æ‰›è¿‡åŽ»é‚£é¡¿ã€‚")]),s._v(" "),a("p",[s._v("å“ˆå“ˆå“ˆå“ˆå“ˆï¼ŒçŽ°åœ¨æƒ³æƒ³è¿˜æŒºæœ‰æ„æ€çš„ï¼Œä¸è¿‡è¿™äº›ä¹±é­çš„äº‹å¾ˆå¤šæ˜¯è‡ªå·±çš„æ„è¯†å’Œèƒ½åŠ›ä¸è¶³æ—¶åšå‡ºçš„é”™è¯¯é€‰æ‹©è€Œå¯¼è‡´çš„ã€‚")]),s._v(" "),a("p",[s._v("äººé‚£ï¼Œæƒ³å¼€è½¦å°±è¦è€ƒé©¾ç…§ï¼Œæƒ³èµ°è¿œå°±è¦æœ‰èƒ½åŠ›ã€‚å¤šæå‡è®¤çŸ¥ï¼Œå¤šæ‹“å®½çœ¼ç•Œï¼"),a("code",[s._v("ç”Ÿæ´»çš„æ„ä¹‰å°±æ˜¯ä¸æ–­çš„æ›´æ–°è‡ªå·±ï¼")])]),s._v(" "),a("h2",{attrs:{id:"äºŒã€é¢è¯•é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€é¢è¯•é¢˜"}},[s._v("#")]),s._v(" äºŒã€é¢è¯•é¢˜")]),s._v(" "),a("p",[a("code",[s._v("è°¢é£žæœºï¼Œå°è®°ï¼")]),s._v("ï¼Œå†¬é£Žå¹ã€æˆ˜é¼“æ“‚ã€‚è¢«çªé‡Œï¼Œè°æ€•è°ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("è°¢é£žæœº")]),s._v("ï¼šæ­ªï¼Ÿå¤§å“¥ï¼Œä½ åœ¨å—ï¼Ÿ")]),s._v(" "),a("p",[a("strong",[s._v("é¢è¯•å®˜")]),s._v("ï¼šå’‹äº†ï¼Œå¤§å‘¨æœ«çš„ï¼Œè¿™ä¹ˆæ—©æ‰“ç”µè¯ï¼ï¼Ÿ")]),s._v(" "),a("p",[a("strong",[s._v("è°¢é£žæœº")]),s._v("ï¼šæˆ‘æ¢¦è§ï¼Œæˆ‘åŽ»è°·æ­Œå†™JVMäº†ï¼Œç»™ä½ ä»¬å…¬å¸ç”¨ï¼Œä¹‹åŽè¹¦äº†ï¼Œè®©æˆ‘èµ·æ¥æ”¹bugï¼")]),s._v(" "),a("p",[a("strong",[s._v("é¢è¯•å®˜")]),s._v("ï¼šå•Šï¼ï¼Ÿå•Šï¼Œé‚£æˆ‘é—®ä½ ï¼ŒJDK 1.8 ä¸Ž JDK 1.7 åœ¨è¿è¡Œæ—¶æ•°æ®åŒºçš„è®¾è®¡ä¸Šï¼Œä½ éƒ½æ€Žä¹ˆåšçš„ä¼˜åŒ–ç­–ç•¥çš„ï¼Ÿ")]),s._v(" "),a("p",[a("strong",[s._v("è°¢é£žæœº")]),s._v("ï¼šæˆ‘æ²¡å†™è¿™ï¼Œæˆ‘ä¸çŸ¥é“ï¼")]),s._v(" "),a("p",[a("strong",[s._v("é¢è¯•å®˜")]),s._v("ï¼šæ“¦ã€‚ã€‚ã€‚")]),s._v(" "),a("h2",{attrs:{id:"ä¸‰ã€-jdk1-6ã€jdk1-7ã€jdk1-8-å†…å­˜æ¨¡åž‹æ¼”å˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€-jdk1-6ã€jdk1-7ã€jdk1-8-å†…å­˜æ¨¡åž‹æ¼”å˜"}},[s._v("#")]),s._v(" ä¸‰ã€ JDK1.6ã€JDK1.7ã€JDK1.8 å†…å­˜æ¨¡åž‹æ¼”å˜")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"å›¾ 25-1  JDK1.6ã€JDK1.7ã€JDK1.8ï¼Œå†…å­˜æ¨¡åž‹æ¼”å˜","data-src":"https://bugstack.cn/assets/images/2020/interview/interview-25-1.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("å¦‚å›¾ 25-1 æ˜¯ JDK 1.6ã€1.7ã€1.8 çš„å†…å­˜æ¨¡åž‹æ¼”å˜è¿‡ç¨‹ï¼Œå…¶å®žè¿™ä¸ªå†…å­˜æ¨¡åž‹å°±æ˜¯ JVM è¿è¡Œæ—¶æ•°æ®åŒºä¾ç…§JVMè™šæ‹Ÿæœºè§„èŒƒçš„å…·ä½“å®žçŽ°è¿‡ç¨‹ã€‚")]),s._v(" "),a("p",[s._v("åœ¨å›¾ 25-1 ä¸­å„ä¸ªç‰ˆæœ¬çš„è¿­ä»£éƒ½æ˜¯ä¸ºäº†æ›´å¥½çš„é€‚åº”CPUæ€§èƒ½æå‡ï¼Œæœ€å¤§é™åº¦æå‡çš„JVMè¿è¡Œæ•ˆçŽ‡ã€‚è¿™äº›ç‰ˆæœ¬çš„JVMå†…å­˜æ¨¡åž‹ä¸»è¦æœ‰ä»¥ä¸‹å·®å¼‚ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("JDK 1.6ï¼šæœ‰æ°¸ä¹…ä»£ï¼Œé™æ€å˜é‡å­˜æ”¾åœ¨æ°¸ä¹…ä»£ä¸Šã€‚")]),s._v(" "),a("li",[s._v("JDK 1.7ï¼šæœ‰æ°¸ä¹…ä»£ï¼Œä½†å·²ç»æŠŠå­—ç¬¦ä¸²å¸¸é‡æ± ã€é™æ€å˜é‡ï¼Œå­˜æ”¾åœ¨å †ä¸Šã€‚é€æ¸çš„å‡å°‘æ°¸ä¹…ä»£çš„ä½¿ç”¨ã€‚")]),s._v(" "),a("li",[s._v("JDK 1.8ï¼šæ— æ°¸ä¹…ä»£ï¼Œè¿è¡Œæ—¶å¸¸é‡æ± ã€ç±»å¸¸é‡æ± ï¼Œéƒ½ä¿å­˜åœ¨å…ƒæ•°æ®åŒºï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„"),a("code",[s._v("å…ƒç©ºé—´")]),s._v("ã€‚ä½†å­—ç¬¦ä¸²å¸¸é‡æ± ä»ç„¶å­˜æ”¾åœ¨å †ä¸Šã€‚")])]),s._v(" "),a("h2",{attrs:{id:"å››ã€å†…å­˜æ¨¡åž‹å„åŒºåŸŸä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€å†…å­˜æ¨¡åž‹å„åŒºåŸŸä»‹ç»"}},[s._v("#")]),s._v(" å››ã€å†…å­˜æ¨¡åž‹å„åŒºåŸŸä»‹ç»")]),s._v(" "),a("h3",{attrs:{id:"_1-ç¨‹åºè®¡æ•°å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¨‹åºè®¡æ•°å™¨"}},[s._v("#")]),s._v(" 1. ç¨‹åºè®¡æ•°å™¨")]),s._v(" "),a("ul",[a("li",[s._v("è¾ƒå°çš„å†…å­˜ç©ºé—´ã€çº¿ç¨‹ç§æœ‰ï¼Œè®°å½•å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç è¡Œå·ã€‚")]),s._v(" "),a("li",[s._v("å¦‚æžœæ‰§è¡Œ Java æ–¹æ³•ï¼Œè®¡æ•°å™¨è®°å½•è™šæ‹Ÿæœºå­—èŠ‚ç å½“å‰æŒ‡ä»¤çš„åœ°å€ï¼Œæœ¬åœ°æ–¹æ³•åˆ™ä¸ºç©ºã€‚")]),s._v(" "),a("li",[s._v("è¿™ä¸€å—åŒºåŸŸæ²¡æœ‰ä»»ä½• OutOfMemoryError å®šä¹‰ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("ä»¥ä¸Š")]),s._v("ï¼Œå°±æ˜¯å…³äºŽç¨‹åºè®¡æ•°å™¨çš„å®šä¹‰ï¼Œå¦‚æžœè¿™æ ·çœ‹æ²¡æœ‰æ„Ÿè§‰ï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­ã€‚")]),s._v(" "),a("p",[s._v("å®šä¹‰ä¸€æ®µ Java æ–¹æ³•çš„ä»£ç ï¼Œè¿™æ®µä»£ç æ˜¯è®¡ç®—åœ†å½¢çš„å‘¨é•¿ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("circumference")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" pi "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.14f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" area "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" pi "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" area"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("æŽ¥ä¸‹æ¥ï¼Œå¦‚å›¾ 25-2 æ˜¯è¿™æ®µä»£ç çš„åœ¨è™šæ‹Ÿæœºä¸­çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå·¦ä¾§æ˜¯å®ƒçš„ç¨‹åºè®¡æ•°å™¨å¯¹åº”çš„è¡Œå·ã€‚")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"å›¾ 25-2 ç¨‹åºè®¡æ•°å™¨","data-src":"https://bugstack.cn/assets/images/2020/interview/interview-25-2.png",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[s._v("è¿™äº›è¡Œå·æ¯ä¸€ä¸ªéƒ½ä¼šå¯¹åº”ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œæ˜¯åŽ‹æ ˆè¿˜æ˜¯å¼¹å‡ºæˆ–æ˜¯æ‰§è¡Œè®¡ç®—ã€‚")]),s._v(" "),a("li",[s._v("ä¹‹æ‰€ä»¥è¯´æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå› ä¸ºå¦‚æžœä¸æ˜¯ç§æœ‰çš„ï¼Œé‚£ä¹ˆæ•´ä¸ªè®¡ç®—è¿‡ç¨‹æœ€ç»ˆçš„ç»“æžœä¹Ÿå°†é”™è¯¯ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"_2-javaè™šæ‹Ÿæœºæ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-javaè™šæ‹Ÿæœºæ ˆ"}},[s._v("#")]),s._v(" 2. Javaè™šæ‹Ÿæœºæ ˆ")]),s._v(" "),a("ul",[a("li",[s._v("æ¯ä¸€ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶ï¼Œéƒ½ä¼šåˆ›å»ºå‡ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºŽå­˜æ”¾å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æŽ¥ã€æ–¹æ³•å‡ºå£ã€çº¿ç¨‹ç­‰ä¿¡æ¯ã€‚")]),s._v(" "),a("li",[s._v("æ–¹æ³•ä»Žè°ƒç”¨åˆ°æ‰§è¡Œå®Œæˆï¼Œéƒ½å¯¹åº”ç€æ ˆå¸§ä»Žè™šæ‹Ÿæœºä¸­å…¥æ ˆå’Œå‡ºæ ˆçš„è¿‡ç¨‹ã€‚")]),s._v(" "),a("li",[s._v("æœ€ç»ˆï¼Œæ ˆå¸§ä¼šéšç€æ–¹æ³•çš„åˆ›å»ºåˆ°ç»“æŸè€Œé”€æ¯ã€‚")])]),s._v(" "),a("p",[s._v("å¯èƒ½è¿™ä¹ˆåªä»Žå®šä¹‰çœ‹ä¸ŠåŽ»ä»ç„¶æ²¡æœ‰ä»€ä¹ˆæ„Ÿè§‰ï¼Œæˆ‘ä»¬å†æ‰¾ä¸€ä¸ªä¾‹å­ã€‚")]),s._v(" "),a("p",[s._v("è¿™æ˜¯ä¸€ä¸ªå…³äºŽ"),a("code",[s._v("æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆFibonacci sequenceï¼‰")]),s._v("æ±‚å€¼çš„ä¾‹å­ï¼Œæˆ‘ä»¬é€šè¿‡æ–æ³¢é‚£å¥‘æ•°åˆ—åœ¨è™šæ‹Ÿæœºä¸­çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæ¥ä½“ä¼šJavaè™šæ‹Ÿæœºæ ˆçš„ç”¨é€”ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆFibonacci sequenceï¼‰ï¼Œåˆç§°é»„é‡‘åˆ†å‰²æ•°åˆ—ã€å› æ•°å­¦å®¶åˆ—æ˜‚çº³å¤šÂ·æ–æ³¢é‚£å¥‘ï¼ˆLeonardoda Fibonacciï¼‰ä»¥å…”å­ç¹æ®–ä¸ºä¾‹å­è€Œå¼•å…¥ï¼Œæ•…åˆç§°ä¸ºâ€œå…”å­æ•°åˆ—â€ï¼ŒæŒ‡çš„æ˜¯è¿™æ ·ä¸€ä¸ªæ•°åˆ—ï¼š1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€â€¦â€¦åœ¨æ•°å­¦ä¸Šï¼Œæ–æ³¢çº³å¥‘æ•°åˆ—ä»¥å¦‚ä¸‹è¢«ä»¥é€’æŽ¨çš„æ–¹æ³•å®šä¹‰ï¼šF(1)=1ï¼ŒF(2)=1, F(n)=F(n-1)+F(n-2)ï¼ˆn>=3ï¼ŒnâˆˆN*ï¼‰åœ¨çŽ°ä»£ç‰©ç†ã€å‡†æ™¶ä½“ç»“æž„ã€åŒ–å­¦ç­‰é¢†åŸŸï¼Œæ–æ³¢çº³å¥‘æ•°åˆ—éƒ½æœ‰ç›´æŽ¥çš„åº”ç”¨ï¼Œä¸ºæ­¤ï¼Œç¾Žå›½æ•°å­¦ä¼šä»Ž1963å¹´èµ·å‡ºç‰ˆäº†ä»¥ã€Šæ–æ³¢çº³å¥‘æ•°åˆ—å­£åˆŠã€‹ä¸ºåçš„ä¸€ä»½æ•°å­¦æ‚å¿—ï¼Œç”¨äºŽä¸“é—¨åˆŠè½½è¿™æ–¹é¢çš„ç ”ç©¶æˆæžœã€‚")])]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"å›¾ 25-3 æ–æ³¢é‚£å¥‘æ•°åˆ—åœ¨è™šæ‹Ÿæœºæ ˆä¸­çš„æ‰§è¡Œè¿‡ç¨‹","data-src":"https://bugstack.cn/assets/images/2020/interview/interview-25-3.png",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[s._v("æ•´ä¸ªè¿™æ®µæµç¨‹ï¼Œå°±æ˜¯æ–¹æ³•çš„è°ƒç”¨å’Œè¿”å›žã€‚åœ¨è°ƒç”¨è¿‡ç¨‹ç”³è¯·äº†æ“ä½œæ•°æ ˆçš„æ·±åº¦å’Œå±€éƒ¨å˜é‡çš„å¤§å°ã€‚")]),s._v(" "),a("li",[s._v("ä»¥åŠç›¸åº”çš„ä¿¡æ¯ä»Žå„ä¸ªåŒºåŸŸèŽ·å–å¹¶æ“ä½œï¼Œå…¶å®žä¹Ÿå°±æ˜¯å…¥æ ˆå’Œå‡ºæ ˆçš„è¿‡ç¨‹ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"_3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[s._v("#")]),s._v(" 3. æœ¬åœ°æ–¹æ³•æ ˆ")]),s._v(" "),a("ul",[a("li",[s._v("æœ¬åœ°æ–¹æ³•æ ˆä¸ŽJavaè™šæ‹Ÿæœºæ ˆä½œç”¨ç±»ä¼¼ï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯æœ¬åœ°æ–¹æ³•æ ˆæ‰§è¡Œçš„æ˜¯Nativeæ–¹æ³•ï¼Œè€Œè™šæ‹Ÿæœºæ ˆæ˜¯ä¸ºJVMæ‰§è¡ŒJavaæ–¹æ³•æœåŠ¡çš„ã€‚")]),s._v(" "),a("li",[s._v("å¦å¤–ï¼Œä¸Ž Java è™šæ‹Ÿæœºæ ˆä¸€æ ·ï¼Œæœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šæŠ›å‡º StackOverflowError å’Œ OutOfMemoryError å¼‚å¸¸ã€‚")]),s._v(" "),a("li",[s._v("JDK1.8 HotSpotè™šæ‹Ÿæœºç›´æŽ¥å°±æŠŠæœ¬åœ°æ–¹æ³•æ ˆå’Œè™šæ‹Ÿæœºæ ˆåˆäºŒä¸ºä¸€ã€‚")])]),s._v(" "),a("p",[a("em",[s._v("å…³äºŽæœ¬åœ°æ–¹æ³•æ ˆåœ¨ä»¥ä¸Šçš„ä¾‹å­å·²ç»æ¶‰åŠäº†è¿™éƒ¨åˆ†å†…å®¹ï¼Œè¿™é‡Œå°±ä¸åœ¨èµ˜è¿°äº†ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"_4-å †å’Œå…ƒç©ºé—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-å †å’Œå…ƒç©ºé—´"}},[s._v("#")]),s._v(" 4. å †å’Œå…ƒç©ºé—´")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"å›¾ 25-4 Java å †åŒºåŸŸåˆ’åˆ†","data-src":"https://bugstack.cn/assets/images/2020/interview/interview-25-4.png",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[s._v("JDK 1.8 JVM çš„å†…å­˜ç»“æž„ä¸»è¦ç”±ä¸‰å¤§å—ç»„æˆï¼šå †å†…å­˜ã€å…ƒç©ºé—´å’Œæ ˆï¼ŒJava å †æ˜¯å†…å­˜ç©ºé—´å æ®æœ€å¤§çš„ä¸€å—åŒºåŸŸã€‚")]),s._v(" "),a("li",[s._v("Java å †ï¼Œç”±å¹´è½»ä»£å’Œå¹´è€ä»£ç»„æˆï¼Œåˆ†åˆ«å æ®1/3å’Œ2/3ã€‚")]),s._v(" "),a("li",[s._v("è€Œå¹´è½»ä»£åˆåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œ"),a("strong",[s._v("Eden")]),s._v("ã€"),a("strong",[s._v("From Survivor")]),s._v("ã€"),a("strong",[s._v("To Survivor")]),s._v("ï¼Œå æ®æ¯”ä¾‹ä¸º8:1:1ï¼Œå¯è°ƒã€‚")]),s._v(" "),a("li",[s._v("å¦å¤–è¿™é‡Œæˆ‘ä»¬ç‰¹æ„ç”»å‡ºäº†å…ƒç©ºé—´ï¼Œä¹Ÿå°±æ˜¯ç›´æŽ¥å†…å­˜åŒºåŸŸã€‚åœ¨ JDK 1.8 ä¹‹åŽå°±ä¸åœ¨å †ä¸Šåˆ†é…æ–¹æ³•åŒºäº†ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("å…ƒç©ºé—´")]),s._v("ä»Žè™šæ‹ŸæœºJavaå †ä¸­è½¬ç§»åˆ°æœ¬åœ°å†…å­˜ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜çš„é™åˆ¶ï¼Œè¯´ç™½äº†ä¹Ÿå°±æ˜¯ä»¥åŽä¸ä¼šå› ä¸ºæ°¸ä¹…ä»£ç©ºé—´ä¸å¤Ÿè€ŒæŠ›å‡ºOOMå¼‚å¸¸å‡ºçŽ°äº†ã€‚"),a("em",[s._v("jdk1.8ä»¥å‰ç‰ˆæœ¬çš„ classå’ŒJARåŒ…æ•°æ®å­˜å‚¨åœ¨ PermGenä¸‹é¢ ï¼ŒPermGen å¤§å°æ˜¯å›ºå®šçš„ï¼Œè€Œä¸”é¡¹ç›®ä¹‹é—´æ— æ³•å…±ç”¨ï¼Œå…¬æœ‰çš„ classï¼Œæ‰€ä»¥æ¯”è¾ƒå®¹æ˜“å‡ºçŽ°OOMå¼‚å¸¸ã€‚")])]),s._v(" "),a("li",[s._v("å‡çº§ JDK 1.8åŽï¼Œå…ƒç©ºé—´é…ç½®å‚æ•°ï¼Œ"),a("code",[s._v("-XX:MetaspaceSize=512M XX:MaxMetaspaceSize=1024M")]),s._v("ã€‚æ•™ä½ ä¸ªå°æŠ€å·§é€šè¿‡jpsã€jinfoæŸ¥çœ‹å…ƒç©ºé—´ï¼Œå¦‚ä¸‹ï¼š\n"),a("ul",[a("li",[a("img",{staticClass:"lazy",attrs:{alt:"é€šè¿‡å‘½ä»¤æŸ¥çœ‹å…ƒç©ºé—´","data-src":"https://bugstack.cn/assets/images/2020/interview/interview-25-4-1.png",loading:"lazy"}})]),s._v(" "),a("li",[s._v("é€šè¿‡jinfoæŸ¥çœ‹é»˜è®¤MetaspaceSizeå¤§å°ï¼ˆçº¦20Mï¼‰,MaxMetaspaceSizeæ¯”è¾ƒå¤§ã€‚")])])])]),s._v(" "),a("p",[a("strong",[s._v("å…¶ä»–ï¼šå…³äºŽ JDK1.8 å…ƒç©ºé—´çš„ä»‹ç»ï¼š")]),s._v(" Move part of the contents of the permanent generation in Hotspot to the Java heap and the remainder to native memory. "),a("a",{attrs:{href:"http://openjdk.java.net/jeps/122",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://openjdk.java.net/jeps/122"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_5-å¸¸é‡æ± "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-å¸¸é‡æ± "}},[s._v("#")]),s._v(" 5. å¸¸é‡æ± ")]),s._v(" "),a("ul",[a("li",[s._v("ä»Ž JDK 1.7å¼€å§‹æŠŠå¸¸é‡æ± ä»Žæ°¸ä¹…ä»£ä¸­å‰¥ç¦»ï¼Œç›´åˆ° JDK1.8 åŽ»æŽ‰äº†æ°¸ä¹…ä»£ã€‚è€Œå­—ç¬¦ä¸²å¸¸é‡æ± ä¸€ç›´æ”¾åœ¨å †ç©ºé—´ï¼Œç”¨äºŽå­˜å‚¨å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæˆ–æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"äº”ã€æ‰‹æ’¸è™šæ‹Ÿæœº-å†…å­˜æ¨¡åž‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€æ‰‹æ’¸è™šæ‹Ÿæœº-å†…å­˜æ¨¡åž‹"}},[s._v("#")]),s._v(" äº”ã€æ‰‹æ’¸è™šæ‹Ÿæœº(å†…å­˜æ¨¡åž‹)")]),s._v(" "),a("p",[s._v("å…¶å®žä»¥ä¸Šçš„å†…å®¹ï¼Œå·²ç»å®Œæ•´çš„ä»‹ç»äº†JVMè™šæ‹Ÿæœºçš„å†…å­˜æ¨¡åž‹ï¼Œä¹Ÿå°±æ˜¯è¿è¡Œæ—¶æ•°æ®åŒºçš„ç»“æž„ã€‚ä½†æ˜¯è¿™ä¸œè¥¿çœ‹å®Œå¯èƒ½å°±å¿˜è®°äº†ï¼Œå› ä¸ºç¼ºå°‘ä¸€ä¸ªå¯äº²æ‰‹æ“ä½œçš„ä»£ç ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("æ‰€ä»¥")]),s._v("ï¼Œè¿™é‡Œæˆ‘ç»™å¤§å®¶ç”¨Javaä»£ç å†™ä¸€æ®µå…³äºŽæ•°æ®æ§½ã€æ ˆå¸§ã€å±€éƒ¨å˜é‡ã€è™šæ‹Ÿæœºæ ˆä»¥åŠå †çš„ä»£ç ç»“æž„ï¼Œè®©å¤§å®¶æ›´å¥½çš„åŠ æ·±å¯¹è™šæ‹Ÿæœºå†…å­˜æ¨¡åž‹çš„å°è±¡ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_1-å·¥ç¨‹ç»“æž„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å·¥ç¨‹ç»“æž„"}},[s._v("#")]),s._v(" 1. å·¥ç¨‹ç»“æž„")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("è¿è¡Œæ—¶æ•°æ®åŒº\nâ”œâ”€â”€ heap\nâ”‚   â”œâ”€â”€ constantpool\nâ”‚   â”œâ”€â”€ methodarea\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassMember")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Field")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodDescriptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodDescriptorParser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodLookup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slots")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â”‚   â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”‚   â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Frame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JvmStack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalVars")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OperandStack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\nâ””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("ä»¥ä¸Šè¿™éƒ¨åˆ†å°±æ˜¯ä½¿ç”¨Javaå®žçŽ°çš„éƒ¨åˆ†JVMè™šæ‹ŸæœºåŠŸèƒ½ï¼Œè¿™éƒ¨åˆ†ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å†…å®¹ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("Frameï¼Œæ ˆå¸§")]),s._v(" "),a("li",[s._v("JvmStackï¼Œè™šæ‹Ÿæœºæ ˆ")]),s._v(" "),a("li",[s._v("LocalVarsï¼Œå±€éƒ¨å˜é‡")]),s._v(" "),a("li",[s._v("OperandStackï¼Œæ“ä½œæ•°æ ˆ")]),s._v(" "),a("li",[s._v("Slotï¼Œæ•°æ®æ§½")]),s._v(" "),a("li",[s._v("Threadï¼Œçº¿ç¨‹")]),s._v(" "),a("li",[s._v("heapï¼Œå †ï¼Œé‡Œé¢åŒ…æ‹¬å¸¸é‡æ± å’Œæ–¹æ³•åŒº")])]),s._v(" "),a("h3",{attrs:{id:"_2-é‡ç‚¹ä»£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é‡ç‚¹ä»£ç "}},[s._v("#")]),s._v(" 2. é‡ç‚¹ä»£ç ")]),s._v(" "),a("p",[a("strong",[s._v("æ“ä½œæ•°æ ˆ OperandStack")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OperandStack")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" slots"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OperandStack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" maxStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("maxStack "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            slots "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("maxStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" maxStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                slots"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[a("strong",[s._v("è™šæ‹Ÿæœºæ ˆ OperandStack")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JvmStack")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" maxSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Frame")]),s._v(" _top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("strong",[s._v("æ ˆå¸§ Frame")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Frame")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//stack is implemented as linked list")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Frame")]),s._v(" lower"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å±€éƒ¨å˜é‡è¡¨")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalVars")]),s._v(" localVars"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ“ä½œæ•°æ ˆ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OperandStack")]),s._v(" operandStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" nextPC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("ul",[a("li",[s._v("å…³äºŽä»£ç ç»“æž„çœ‹åˆ°è¿™æœ‰ç‚¹æ„Ÿè§‰äº†å—ï¼Ÿ")]),s._v(" "),a("li",[s._v("Slotæ•°æ®æ§½ï¼Œå°±æ˜¯ä¸€ä¸ªæ•°ç»„ç»“æž„ï¼Œç”¨äºŽå­˜æ”¾æ•°æ®çš„ã€‚")]),s._v(" "),a("li",[s._v("æ“ä½œæ•°æ ˆã€å±€éƒ¨å˜é‡è¡¨ï¼Œéƒ½æ˜¯ä½¿ç”¨æ•°æ®æ§½è¿›è¡Œå…¥æ ˆå…¥æ ˆæ“ä½œã€‚")]),s._v(" "),a("li",[s._v("åœ¨æ ˆå¸§é‡Œï¼Œå¯ä»¥çœ‹åˆ°è¿žæŽ¥ã€å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€æ–¹æ³•ã€çº¿ç¨‹ç­‰ï¼Œé‚£ä¹ˆæ–‡ä¸­è¯´åˆ°çš„å½“æœ‰ä¸€ä¸ªæ–°çš„"),a("code",[s._v("æ¯ä¸€ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶ï¼Œéƒ½ä¼šåˆ›å»ºå‡ºä¸€ä¸ªæ ˆå¸§")]),s._v("ï¼Œæ˜¯ä¸å°±å¯¹äº†ä¸Šï¼Œå¯ä»¥çœŸçš„ç†è§£äº†ã€‚")]),s._v(" "),a("li",[s._v("å¦‚æžœä½ å¯¹JVMçš„å®žçŽ°æ„Ÿå…´è¶£ï¼Œå¯ä»¥é˜…è¯»"),a("code",[s._v("ç”¨Javaå®žçŽ°JVMæºç ")]),s._v("ï¼š"),a("a",{attrs:{href:"https://github.com/fuzhengwei/itstack-demo-jvm",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/fuzhengwei/itstack-demo-jvm"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"å…­ã€jconsoleç›‘æµ‹å…ƒç©ºé—´æº¢å‡º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…­ã€jconsoleç›‘æµ‹å…ƒç©ºé—´æº¢å‡º"}},[s._v("#")]),s._v(" å…­ã€jconsoleç›‘æµ‹å…ƒç©ºé—´æº¢å‡º")]),s._v(" "),a("p",[s._v("ä¸æ˜¯è¯´ JDK 1.8 çš„å†…å­˜æ¨¡åž‹æŠŠæ°¸ä¹…ä»£ä¸‹æŽ‰ï¼Œæ¢ä¸Š"),a("code",[s._v("å…ƒç©ºé—´")]),s._v("äº†å—ï¼Ÿä½†ä¸æµ‹è¯•ä¸‹ï¼Œå°±æ„Ÿå—ä¸åˆ°å‘€ï¼Œæ²¡æœ‰è¯æ®ï¼")]),s._v(" "),a("p",[s._v("æ‰€æœ‰å…³äºŽä»£ç é€»è¾‘çš„å­¦ä¹ ï¼Œéƒ½éœ€è¦æœ‰æ•°æ®åŸºç¡€å’Œè¯æ˜Žè¿‡ç¨‹ï¼Œè¿™æ ·æ‰èƒ½æœ‰æ·±åˆ»çš„å°è±¡ã€‚èµ°ç€ï¼Œå¸¦ä½ æŠŠå…ƒç©ºé—´å¹²æ»¡ï¼Œè®©å®ƒOOMï¼")]),s._v(" "),a("h3",{attrs:{id:"_1-æ‰¾æ®µæŒç»­åˆ›å»ºå¤§å¯¹è±¡çš„ä»£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ‰¾æ®µæŒç»­åˆ›å»ºå¤§å¯¹è±¡çš„ä»£ç "}},[s._v("#")]),s._v(" 1. æ‰¾æ®µæŒç»­åˆ›å»ºå¤§å¯¹è±¡çš„ä»£ç ")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoadingMXBean")]),s._v(" loadingBean "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ManagementFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoadingMXBean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),s._v(" enhancer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setSuperclass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MetaSpaceOomMock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCallbackTypes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dispatcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodInterceptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCallbackFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CallbackFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" loadingBean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTotalLoadedClassCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" loadingBean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLoadedClassCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" loadingBean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUnloadedClassCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("ul",[a("li",[s._v("ç½‘ä¸Šæ‰¾äº†ä¸€æ®µåŸºäºŽCGLIBçš„ï¼Œä½ å¯ä»¥å†™ä¸€äº›å…¶ä»–çš„ã€‚")]),s._v(" "),a("li",[a("code",[s._v("Thread.sleep(5000);")]),s._v("ï¼Œç¡ä¸€ä¼šï¼Œæ–¹ä¾¿æˆ‘ä»¬ç‚¹æ£€æµ‹ï¼Œè¦ä¸ç¨‹åºå¤ªå¿«å°±å¼‚å¸¸äº†ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"_2-è°ƒæ•´å…ƒç©ºé—´å¤§å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è°ƒæ•´å…ƒç©ºé—´å¤§å°"}},[s._v("#")]),s._v(" 2. è°ƒæ•´å…ƒç©ºé—´å¤§å°")]),s._v(" "),a("p",[s._v("é»˜è®¤æƒ…å†µä¸‹å…ƒç©ºé—´å¤ªå¤§äº†ï¼Œä¸æ–¹ä¾¿æµ‹è¯•å‡ºç»“æžœï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒè°ƒçš„å°ä¸€ç‚¹ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MetaspaceSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("m\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MaxMetaspaceSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("m\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_3-è®¾ç½®ç›‘æŽ§å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-è®¾ç½®ç›‘æŽ§å‚æ•°"}},[s._v("#")]),s._v(" 3. è®¾ç½®ç›‘æŽ§å‚æ•°")]),s._v(" "),a("p",[s._v("åŸºäºŽ jconsole ç›‘æŽ§ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸‹å‚æ•°ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Djava")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rmi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7397")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("authenticate"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_4-æµ‹è¯•è¿è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æµ‹è¯•è¿è¡Œ"}},[s._v("#")]),s._v(" 4. æµ‹è¯•è¿è¡Œ")]),s._v(" "),a("h4",{attrs:{id:"_4-1-é…ç½®å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-é…ç½®å‚æ•°"}},[s._v("#")]),s._v(" 4.1 é…ç½®å‚æ•°")]),s._v(" "),a("p",[a("strong",[s._v("ä»¥ä¸Šçš„æµ‹è¯•å‚æ•°")]),s._v("ï¼Œé…ç½®åˆ°IDEAä¸­è¿è¡Œç¨‹åºé‡Œå°±å¯ä»¥ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"å›¾ 25-5 è®¾ç½®ç¨‹åºè¿è¡Œå‚æ•°ï¼Œç›‘æŽ§OOM","data-src":"https://bugstack.cn/assets/images/2020/interview/interview-25-5.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("å¦å¤–ï¼Œjconsole å¯ä»¥é€šè¿‡ IDEA æä¾›çš„ Terminal å¯åŠ¨ï¼Œç›´æŽ¥è¾“å…¥ "),a("code",[s._v("jconsole")]),s._v("ï¼Œå›žè½¦å³å¯ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_4-2-æµ‹è¯•ç»“æžœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-æµ‹è¯•ç»“æžœ"}},[s._v("#")]),s._v(" 4.2 æµ‹è¯•ç»“æžœ")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itstack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("MetaSpaceOomMock")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnhancerByCGLIB")]),s._v("$$bd2bb16e999099900\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itstack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("MetaSpaceOomMock")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnhancerByCGLIB")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("c774e64999199910\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itstack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("MetaSpaceOomMock")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnhancerByCGLIB")]),s._v("$$cac97732999299920\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itstack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("MetaSpaceOomMock")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnhancerByCGLIB")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v("c6a15a999399930\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" in thread "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("IllegalStateException")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Unable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("load")]),s._v(" cache item\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("internal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("LoadingCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createEntry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadingCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("79")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("internal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("LoadingCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadingCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractClassGenerator")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractClassGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("119")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractClassGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractClassGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("294")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createHelper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("480")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("337")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itstack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("MetaSpaceOomMock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MetaSpaceOomMock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Caused")]),s._v(" by"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("OutOfMemoryError")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Metaspace")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Native")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("348")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ReflectUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReflectUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("467")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractClassGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("generate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractClassGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("339")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("generate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("492")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractClassGenerator")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderData")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractClassGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractClassGenerator")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderData")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractClassGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("internal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("LoadingCache")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadingCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("FutureTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("run$$$"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("capture")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FutureTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("266")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("FutureTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FutureTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cglib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("internal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("LoadingCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createEntry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadingCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" more\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("ul",[a("li",[s._v("è¦çš„å°±æ˜¯è¿™å¥ï¼Œjava.lang.OutOfMemoryError: Metaspaceï¼Œå…ƒç©ºé—´OOMï¼Œè¯æ˜Ž JDK1.8 å·²ç»åŽ»æŽ‰æ°¸ä¹…ä»£ï¼Œæ¢ä½å…ƒç©ºé—´ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_4-3-ç›‘æŽ§æˆªå›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-ç›‘æŽ§æˆªå›¾"}},[s._v("#")]),s._v(" 4.3 ç›‘æŽ§æˆªå›¾")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"å›¾ 25-6 jconsoleç›‘æµ‹å…ƒç©ºé—´æº¢å‡º","data-src":"https://bugstack.cn/assets/images/2020/interview/interview-25-6.png",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[s._v("å›¾ 25-6ï¼Œå°±æ˜¯ç›‘æµ‹ç¨‹åºOOMæ—¶çš„å…ƒç©ºé—´è¡¨çŽ°ã€‚è¿™å›žå¯¹è¿™ä¸ªå…ƒç©ºé—´å°±æœ‰æ„Ÿè§‰äº†å§ï¼")])]),s._v(" "),a("h2",{attrs:{id:"ä¸ƒã€æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ƒã€æ€»ç»“"}},[s._v("#")]),s._v(" ä¸ƒã€æ€»ç»“")]),s._v(" "),a("ul",[a("li",[s._v("æœ¬æ–‡ä»Ž JDK å„ä¸ªç‰ˆæœ¬å…³äºŽå†…å­˜æ¨¡åž‹ç»“æž„çš„æ¼”å˜ï¼Œæ¥äº†è§£å„ä¸ªåŒºåŸŸï¼ŒåŒ…æ‹¬ï¼šç¨‹åºè®¡æ•°å™¨ã€Java è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€å †å’Œå…ƒç©ºé—´ã€‚å¹¶äº†è§£ä»Ž JDK 1.8 å¼€å§‹åŽ»æŽ‰æ–¹æ³•åŒºå¼•å…¥å…ƒç©ºé—´çš„æ ¸å¿ƒç›®çš„å’Œä½œç”¨ã€‚")]),s._v(" "),a("li",[s._v("åœ¨é€šè¿‡æ‰‹æ’¸JVMä»£ç çš„æ–¹å¼è®©å¤§å®¶å¯¹è¿è¡Œæ—¶æ•°æ®åŒºæœ‰ä¸€ä¸ªæ•´ä½“çš„è®¤çŸ¥ï¼Œä¹Ÿé€šè¿‡è¿™æ ·çš„æ–¹å¼è®©å¤§å®¶å¯¹å­¦ä¹ è¿™éƒ¨åˆ†çŸ¥è¯†æœ‰ä¸€ä¸ªæŠ“æ‰‹ã€‚")]),s._v(" "),a("li",[s._v("æœ€åŽæˆ‘ä»¬é€šè¿‡ jconsole æ£€æµ‹å…ƒç©ºé—´æº¢å‡ºçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œæ¥å­¦ä»¥è‡´ç”¨ï¼Œçœ‹çœ‹å…ƒç©ºé—´åˆ°åº•åœ¨è§£å†³ä»€ä¹ˆé—®é¢˜ä»¥åŠæ€Žä¹ˆæµ‹è¯•ã€‚")])])])}),[],!1,null,null,null);a.default=e.exports}}]);